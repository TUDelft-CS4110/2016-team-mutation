<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../.resources/report.css" type="text/css"/><link rel="shortcut icon" href="../.resources/report.gif" type="image/gif"/><title>Table.java</title><link rel="stylesheet" href="../.resources/prettify.css" type="text/css"/><script type="text/javascript" src="../.resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="right"><a href="../.sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">libGDX Core</a> &gt; <a href="index.html" class="el_package">com.badlogic.gdx.scenes.scene2d.ui</a> &gt; <span class="el_source">Table.java</span></div><h1>Table.java</h1><pre class="source lang-java linenums">/*******************************************************************************
 * Copyright 2011 See AUTHORS file.
 * 
 * Licensed under the Apache License, Version 2.0 (the &quot;License&quot;);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 * 
 *   http://www.apache.org/licenses/LICENSE-2.0
 * 
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an &quot;AS IS&quot; BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 ******************************************************************************/

package com.badlogic.gdx.scenes.scene2d.ui;

import com.badlogic.gdx.graphics.Color;
import com.badlogic.gdx.graphics.g2d.Batch;
import com.badlogic.gdx.graphics.glutils.ShapeRenderer;
import com.badlogic.gdx.graphics.glutils.ShapeRenderer.ShapeType;
import com.badlogic.gdx.math.Rectangle;
import com.badlogic.gdx.scenes.scene2d.Actor;
import com.badlogic.gdx.scenes.scene2d.Touchable;
import com.badlogic.gdx.scenes.scene2d.ui.Label.LabelStyle;
import com.badlogic.gdx.scenes.scene2d.ui.Value.Fixed;
import com.badlogic.gdx.scenes.scene2d.utils.Drawable;
import com.badlogic.gdx.scenes.scene2d.utils.Layout;
import com.badlogic.gdx.utils.Align;
import com.badlogic.gdx.utils.Array;
import com.badlogic.gdx.utils.Pool;
import com.badlogic.gdx.utils.Pools;

/** A group that sizes and positions children using table constraints. By default, {@link #getTouchable()} is
 * {@link Touchable#childrenOnly}.
 * &lt;p&gt;
 * The preferred and minimum sizes are that of the children when laid out in columns and rows.
 * @author Nathan Sweet */
public class Table extends WidgetGroup {
<span class="nc" id="L41">	static public Color debugTableColor = new Color(0, 0, 1, 1);</span>
<span class="nc" id="L42">	static public Color debugCellColor = new Color(1, 0, 0, 1);</span>
<span class="nc" id="L43">	static public Color debugActorColor = new Color(0, 1, 0, 1);</span>

<span class="nc" id="L45">	static final Pool&lt;Cell&gt; cellPool = new Pool&lt;Cell&gt;() {</span>
		protected Cell newObject () {
<span class="nc" id="L47">			return new Cell();</span>
		}
	};
	static private float[] columnWeightedWidth, rowWeightedHeight;

	private int columns, rows;
	private boolean implicitEndRow;

<span class="nc" id="L55">	private final Array&lt;Cell&gt; cells = new Array(4);</span>
	private final Cell cellDefaults;
<span class="nc" id="L57">	private final Array&lt;Cell&gt; columnDefaults = new Array(2);</span>
	private Cell rowDefaults;

<span class="nc" id="L60">	private boolean sizeInvalid = true;</span>
	private float[] columnMinWidth, rowMinHeight;
	private float[] columnPrefWidth, rowPrefHeight;
	private float tableMinWidth, tableMinHeight;
	private float tablePrefWidth, tablePrefHeight;
	private float[] columnWidth, rowHeight;
	private float[] expandWidth, expandHeight;

<span class="nc" id="L68">	Value padTop = backgroundTop, padLeft = backgroundLeft, padBottom = backgroundBottom, padRight = backgroundRight;</span>
<span class="nc" id="L69">	int align = Align.center;</span>

<span class="nc" id="L71">	Debug debug = Debug.none;</span>
	Array&lt;DebugRect&gt; debugRects;

	Drawable background;
	private boolean clip;
	private Skin skin;
<span class="nc" id="L77">	boolean round = true;</span>

	public Table () {
<span class="nc" id="L80">		this(null);</span>
<span class="nc" id="L81">	}</span>

	/** Creates a table with a skin, which enables the {@link #add(CharSequence)} and {@link #add(CharSequence, String)} methods to
	 * be used. */
<span class="nc" id="L85">	public Table (Skin skin) {</span>
<span class="nc" id="L86">		this.skin = skin;</span>

<span class="nc" id="L88">		cellDefaults = obtainCell();</span>

<span class="nc" id="L90">		setTransform(false);</span>
<span class="nc" id="L91">		setTouchable(Touchable.childrenOnly);</span>
<span class="nc" id="L92">	}</span>

	private Cell obtainCell () {
<span class="nc" id="L95">		Cell cell = cellPool.obtain();</span>
<span class="nc" id="L96">		cell.setLayout(this);</span>
<span class="nc" id="L97">		return cell;</span>
	}

	public void draw (Batch batch, float parentAlpha) {
<span class="nc" id="L101">		validate();</span>
<span class="nc bnc" id="L102" title="All 2 branches missed.">		if (isTransform()) {</span>
<span class="nc" id="L103">			applyTransform(batch, computeTransform());</span>
<span class="nc" id="L104">			drawBackground(batch, parentAlpha, 0, 0);</span>
<span class="nc bnc" id="L105" title="All 2 branches missed.">			if (clip) {</span>
<span class="nc" id="L106">				batch.flush();</span>
<span class="nc" id="L107">				float padLeft = this.padLeft.get(this), padBottom = this.padBottom.get(this);</span>
<span class="nc bnc" id="L108" title="All 2 branches missed.">				if (clipBegin(padLeft, padBottom, getWidth() - padLeft - padRight.get(this),</span>
					getHeight() - padBottom - padTop.get(this))) {
<span class="nc" id="L110">					drawChildren(batch, parentAlpha);</span>
<span class="nc" id="L111">					batch.flush();</span>
<span class="nc" id="L112">					clipEnd();</span>
				}
<span class="nc" id="L114">			} else</span>
<span class="nc" id="L115">				drawChildren(batch, parentAlpha);</span>
<span class="nc" id="L116">			resetTransform(batch);</span>
		} else {
<span class="nc" id="L118">			drawBackground(batch, parentAlpha, getX(), getY());</span>
<span class="nc" id="L119">			super.draw(batch, parentAlpha);</span>
		}
<span class="nc" id="L121">	}</span>

	/** Called to draw the background, before clipping is applied (if enabled). Default implementation draws the background
	 * drawable. */
	protected void drawBackground (Batch batch, float parentAlpha, float x, float y) {
<span class="nc bnc" id="L126" title="All 2 branches missed.">		if (background == null) return;</span>
<span class="nc" id="L127">		Color color = getColor();</span>
<span class="nc" id="L128">		batch.setColor(color.r, color.g, color.b, color.a * parentAlpha);</span>
<span class="nc" id="L129">		background.draw(batch, x, y, getWidth(), getHeight());</span>
<span class="nc" id="L130">	}</span>

	/** Sets the background drawable from the skin and adjusts the table's padding to match the background. This may only be called
	 * if {@link Table#Table(Skin)} or {@link #setSkin(Skin)} was used.
	 * @see #setBackground(Drawable) */
	public void setBackground (String drawableName) {
<span class="nc bnc" id="L136" title="All 2 branches missed.">		if (skin == null) throw new IllegalStateException(&quot;Table must have a skin set to use this method.&quot;);</span>
<span class="nc" id="L137">		setBackground(skin.getDrawable(drawableName));</span>
<span class="nc" id="L138">	}</span>

	/** @param background May be null to clear the background. */
	public void setBackground (Drawable background) {
<span class="nc bnc" id="L142" title="All 2 branches missed.">		if (this.background == background) return;</span>
<span class="nc" id="L143">		float padTopOld = getPadTop(), padLeftOld = getPadLeft(), padBottomOld = getPadBottom(), padRightOld = getPadRight();</span>
<span class="nc" id="L144">		this.background = background;</span>
<span class="nc" id="L145">		float padTopNew = getPadTop(), padLeftNew = getPadLeft(), padBottomNew = getPadBottom(), padRightNew = getPadRight();</span>
<span class="nc bnc" id="L146" title="All 4 branches missed.">		if (padTopOld + padBottomOld != padTopNew + padBottomNew || padLeftOld + padRightOld != padLeftNew + padRightNew)</span>
<span class="nc" id="L147">			invalidateHierarchy();</span>
<span class="nc bnc" id="L148" title="All 8 branches missed.">		else if (padTopOld != padTopNew || padLeftOld != padLeftNew || padBottomOld != padBottomNew || padRightOld != padRightNew)</span>
<span class="nc" id="L149">			invalidate();</span>
<span class="nc" id="L150">	}</span>

	/** @see #setBackground(Drawable) */
	public Table background (Drawable background) {
<span class="nc" id="L154">		setBackground(background);</span>
<span class="nc" id="L155">		return this;</span>
	}

	/** @see #setBackground(String) */
	public Table background (String drawableName) {
<span class="nc" id="L160">		setBackground(drawableName);</span>
<span class="nc" id="L161">		return this;</span>
	}

	public Drawable getBackground () {
<span class="nc" id="L165">		return background;</span>
	}

	public Actor hit (float x, float y, boolean touchable) {
<span class="nc bnc" id="L169" title="All 2 branches missed.">		if (clip) {</span>
<span class="nc bnc" id="L170" title="All 4 branches missed.">			if (touchable &amp;&amp; getTouchable() == Touchable.disabled) return null;</span>
<span class="nc bnc" id="L171" title="All 8 branches missed.">			if (x &lt; 0 || x &gt;= getWidth() || y &lt; 0 || y &gt;= getHeight()) return null;</span>
		}
<span class="nc" id="L173">		return super.hit(x, y, touchable);</span>
	}

	/** Causes the contents to be clipped if they exceed the table actor's bounds. Enabling clipping will set
	 * {@link #setTransform(boolean)} to true. */
	public void setClip (boolean enabled) {
<span class="nc" id="L179">		clip = enabled;</span>
<span class="nc" id="L180">		setTransform(enabled);</span>
<span class="nc" id="L181">		invalidate();</span>
<span class="nc" id="L182">	}</span>

	public boolean getClip () {
<span class="nc" id="L185">		return clip;</span>
	}

	public void invalidate () {
<span class="nc" id="L189">		sizeInvalid = true;</span>
<span class="nc" id="L190">		super.invalidate();</span>
<span class="nc" id="L191">	}</span>

	/** Adds a new cell to the table with the specified actor. */
	public &lt;T extends Actor&gt; Cell&lt;T&gt; add (T actor) {
<span class="nc" id="L195">		Cell&lt;T&gt; cell = obtainCell();</span>
<span class="nc" id="L196">		cell.actor = actor;</span>

		// The row was ended for layout, not be the user, so revert it.
<span class="nc bnc" id="L199" title="All 2 branches missed.">		if (implicitEndRow) {</span>
<span class="nc" id="L200">			implicitEndRow = false;</span>
<span class="nc" id="L201">			rows--;</span>
<span class="nc" id="L202">			cells.peek().endRow = false;</span>
		}

<span class="nc" id="L205">		Array&lt;Cell&gt; cells = this.cells;</span>
<span class="nc" id="L206">		int cellCount = cells.size;</span>
<span class="nc bnc" id="L207" title="All 2 branches missed.">		if (cellCount &gt; 0) {</span>
			// Set cell column and row.
<span class="nc" id="L209">			Cell lastCell = cells.peek();</span>
<span class="nc bnc" id="L210" title="All 2 branches missed.">			if (!lastCell.endRow) {</span>
<span class="nc" id="L211">				cell.column = lastCell.column + lastCell.colspan;</span>
<span class="nc" id="L212">				cell.row = lastCell.row;</span>
			} else {
<span class="nc" id="L214">				cell.column = 0;</span>
<span class="nc" id="L215">				cell.row = lastCell.row + 1;</span>
			}
			// Set the index of the cell above.
<span class="nc bnc" id="L218" title="All 2 branches missed.">			if (cell.row &gt; 0) {</span>
				outer:
<span class="nc bnc" id="L220" title="All 2 branches missed.">				for (int i = cellCount - 1; i &gt;= 0; i--) {</span>
<span class="nc" id="L221">					Cell other = cells.get(i);</span>
<span class="nc bnc" id="L222" title="All 2 branches missed.">					for (int column = other.column, nn = column + other.colspan; column &lt; nn; column++) {</span>
<span class="nc bnc" id="L223" title="All 2 branches missed.">						if (column == cell.column) {</span>
<span class="nc" id="L224">							cell.cellAboveIndex = i;</span>
<span class="nc" id="L225">							break outer;</span>
						}
					}
				}
			}
<span class="nc" id="L230">		} else {</span>
<span class="nc" id="L231">			cell.column = 0;</span>
<span class="nc" id="L232">			cell.row = 0;</span>
		}
<span class="nc" id="L234">		cells.add(cell);</span>

<span class="nc" id="L236">		cell.set(cellDefaults);</span>
<span class="nc bnc" id="L237" title="All 2 branches missed.">		if (cell.column &lt; columnDefaults.size) {</span>
<span class="nc" id="L238">			Cell columnCell = columnDefaults.get(cell.column);</span>
<span class="nc bnc" id="L239" title="All 2 branches missed.">			if (columnCell != null) cell.merge(columnCell);</span>
		}
<span class="nc" id="L241">		cell.merge(rowDefaults);</span>

<span class="nc bnc" id="L243" title="All 2 branches missed.">		if (actor != null) addActor(actor);</span>

<span class="nc" id="L245">		return cell;</span>
	}

	public void add (Actor... actors) {
<span class="nc bnc" id="L249" title="All 2 branches missed.">		for (int i = 0, n = actors.length; i &lt; n; i++)</span>
<span class="nc" id="L250">			add(actors[i]);</span>
<span class="nc" id="L251">	}</span>

	/** Adds a new cell with a label. This may only be called if {@link Table#Table(Skin)} or {@link #setSkin(Skin)} was used. */
	public Cell&lt;Label&gt; add (CharSequence text) {
<span class="nc bnc" id="L255" title="All 2 branches missed.">		if (skin == null) throw new IllegalStateException(&quot;Table must have a skin set to use this method.&quot;);</span>
<span class="nc" id="L256">		return add(new Label(text, skin));</span>
	}

	/** Adds a new cell with a label. This may only be called if {@link Table#Table(Skin)} or {@link #setSkin(Skin)} was used. */
	public Cell&lt;Label&gt; add (CharSequence text, String labelStyleName) {
<span class="nc bnc" id="L261" title="All 2 branches missed.">		if (skin == null) throw new IllegalStateException(&quot;Table must have a skin set to use this method.&quot;);</span>
<span class="nc" id="L262">		return add(new Label(text, skin.get(labelStyleName, LabelStyle.class)));</span>
	}

	/** Adds a new cell with a label. This may only be called if {@link Table#Table(Skin)} or {@link #setSkin(Skin)} was used. */
	public Cell&lt;Label&gt; add (CharSequence text, String fontName, Color color) {
<span class="nc bnc" id="L267" title="All 2 branches missed.">		if (skin == null) throw new IllegalStateException(&quot;Table must have a skin set to use this method.&quot;);</span>
<span class="nc" id="L268">		return add(new Label(text, new LabelStyle(skin.getFont(fontName), color)));</span>
	}

	/** Adds a new cell with a label. This may only be called if {@link Table#Table(Skin)} or {@link #setSkin(Skin)} was used. */
	public Cell&lt;Label&gt; add (CharSequence text, String fontName, String colorName) {
<span class="nc bnc" id="L273" title="All 2 branches missed.">		if (skin == null) throw new IllegalStateException(&quot;Table must have a skin set to use this method.&quot;);</span>
<span class="nc" id="L274">		return add(new Label(text, new LabelStyle(skin.getFont(fontName), skin.getColor(colorName))));</span>
	}

	/** Adds a cell without an actor. */
	public Cell add () {
<span class="nc" id="L279">		return add((Actor)null);</span>
	}

	/** Adds a new cell to the table with the specified actors in a {@link Stack}.
	 * @param actors May be null to add a stack without any actors. */
	public Cell&lt;Stack&gt; stack (Actor... actors) {
<span class="nc" id="L285">		Stack stack = new Stack();</span>
<span class="nc bnc" id="L286" title="All 2 branches missed.">		if (actors != null) {</span>
<span class="nc bnc" id="L287" title="All 2 branches missed.">			for (int i = 0, n = actors.length; i &lt; n; i++)</span>
<span class="nc" id="L288">				stack.addActor(actors[i]);</span>
		}
<span class="nc" id="L290">		return add(stack);</span>
	}

	public boolean removeActor (Actor actor) {
<span class="nc" id="L294">		return removeActor(actor, true);</span>
	}

	public boolean removeActor (Actor actor, boolean unfocus) {
<span class="nc bnc" id="L298" title="All 2 branches missed.">		if (!super.removeActor(actor, unfocus)) return false;</span>
<span class="nc" id="L299">		Cell cell = getCell(actor);</span>
<span class="nc bnc" id="L300" title="All 2 branches missed.">		if (cell != null) cell.actor = null;</span>
<span class="nc" id="L301">		return true;</span>
	}

	/** Removes all actors and cells from the table. */
	public void clearChildren () {
<span class="nc" id="L306">		Array&lt;Cell&gt; cells = this.cells;</span>
<span class="nc bnc" id="L307" title="All 2 branches missed.">		for (int i = cells.size - 1; i &gt;= 0; i--) {</span>
<span class="nc" id="L308">			Cell cell = cells.get(i);</span>
<span class="nc" id="L309">			Actor actor = cell.actor;</span>
<span class="nc bnc" id="L310" title="All 2 branches missed.">			if (actor != null) actor.remove();</span>
		}
<span class="nc" id="L312">		cellPool.freeAll(cells);</span>
<span class="nc" id="L313">		cells.clear();</span>
<span class="nc" id="L314">		rows = 0;</span>
<span class="nc" id="L315">		columns = 0;</span>
<span class="nc bnc" id="L316" title="All 2 branches missed.">		if (rowDefaults != null) cellPool.free(rowDefaults);</span>
<span class="nc" id="L317">		rowDefaults = null;</span>
<span class="nc" id="L318">		implicitEndRow = false;</span>

<span class="nc" id="L320">		super.clearChildren();</span>
<span class="nc" id="L321">	}</span>

	/** Removes all actors and cells from the table (same as {@link #clear()}) and additionally resets all table properties and
	 * cell, column, and row defaults. */
	public void reset () {
<span class="nc" id="L326">		clear();</span>
<span class="nc" id="L327">		padTop = backgroundTop;</span>
<span class="nc" id="L328">		padLeft = backgroundLeft;</span>
<span class="nc" id="L329">		padBottom = backgroundBottom;</span>
<span class="nc" id="L330">		padRight = backgroundRight;</span>
<span class="nc" id="L331">		align = Align.center;</span>
<span class="nc" id="L332">		debug(Debug.none);</span>
<span class="nc" id="L333">		cellDefaults.reset();</span>
<span class="nc bnc" id="L334" title="All 2 branches missed.">		for (int i = 0, n = columnDefaults.size; i &lt; n; i++) {</span>
<span class="nc" id="L335">			Cell columnCell = columnDefaults.get(i);</span>
<span class="nc bnc" id="L336" title="All 2 branches missed.">			if (columnCell != null) cellPool.free(columnCell);</span>
		}
<span class="nc" id="L338">		columnDefaults.clear();</span>
<span class="nc" id="L339">	}</span>

	/** Indicates that subsequent cells should be added to a new row and returns the cell values that will be used as the defaults
	 * for all cells in the new row. */
	public Cell row () {
<span class="nc bnc" id="L344" title="All 2 branches missed.">		if (cells.size &gt; 0) {</span>
<span class="nc" id="L345">			endRow();</span>
<span class="nc" id="L346">			invalidate();</span>
		}
<span class="nc bnc" id="L348" title="All 2 branches missed.">		if (rowDefaults != null) cellPool.free(rowDefaults);</span>
<span class="nc" id="L349">		rowDefaults = obtainCell();</span>
<span class="nc" id="L350">		rowDefaults.clear();</span>
<span class="nc" id="L351">		return rowDefaults;</span>
	}

	private void endRow () {
<span class="nc" id="L355">		Array&lt;Cell&gt; cells = this.cells;</span>
<span class="nc" id="L356">		int rowColumns = 0;</span>
<span class="nc bnc" id="L357" title="All 2 branches missed.">		for (int i = cells.size - 1; i &gt;= 0; i--) {</span>
<span class="nc" id="L358">			Cell cell = cells.get(i);</span>
<span class="nc bnc" id="L359" title="All 2 branches missed.">			if (cell.endRow) break;</span>
<span class="nc" id="L360">			rowColumns += cell.colspan;</span>
		}
<span class="nc" id="L362">		columns = Math.max(columns, rowColumns);</span>
<span class="nc" id="L363">		rows++;</span>
<span class="nc" id="L364">		cells.peek().endRow = true;</span>
<span class="nc" id="L365">	}</span>

	/** Gets the cell values that will be used as the defaults for all cells in the specified column. Columns are indexed starting
	 * at 0. */
	public Cell columnDefaults (int column) {
<span class="nc bnc" id="L370" title="All 2 branches missed.">		Cell cell = columnDefaults.size &gt; column ? columnDefaults.get(column) : null;</span>
<span class="nc bnc" id="L371" title="All 2 branches missed.">		if (cell == null) {</span>
<span class="nc" id="L372">			cell = obtainCell();</span>
<span class="nc" id="L373">			cell.clear();</span>
<span class="nc bnc" id="L374" title="All 2 branches missed.">			if (column &gt;= columnDefaults.size) {</span>
<span class="nc bnc" id="L375" title="All 2 branches missed.">				for (int i = columnDefaults.size; i &lt; column; i++)</span>
<span class="nc" id="L376">					columnDefaults.add(null);</span>
<span class="nc" id="L377">				columnDefaults.add(cell);</span>
			} else
<span class="nc" id="L379">				columnDefaults.set(column, cell);</span>
		}
<span class="nc" id="L381">		return cell;</span>
	}

	/** Returns the cell for the specified actor in this table, or null. */
	public &lt;T extends Actor&gt; Cell&lt;T&gt; getCell (T actor) {
<span class="nc" id="L386">		Array&lt;Cell&gt; cells = this.cells;</span>
<span class="nc bnc" id="L387" title="All 2 branches missed.">		for (int i = 0, n = cells.size; i &lt; n; i++) {</span>
<span class="nc" id="L388">			Cell c = cells.get(i);</span>
<span class="nc bnc" id="L389" title="All 2 branches missed.">			if (c.actor == actor) return c;</span>
		}
<span class="nc" id="L391">		return null;</span>
	}

	/** Returns the cells for this table. */
	public Array&lt;Cell&gt; getCells () {
<span class="nc" id="L396">		return cells;</span>
	}

	public float getPrefWidth () {
<span class="nc bnc" id="L400" title="All 2 branches missed.">		if (sizeInvalid) computeSize();</span>
<span class="nc" id="L401">		float width = tablePrefWidth;</span>
<span class="nc bnc" id="L402" title="All 2 branches missed.">		if (background != null) return Math.max(width, background.getMinWidth());</span>
<span class="nc" id="L403">		return width;</span>
	}

	public float getPrefHeight () {
<span class="nc bnc" id="L407" title="All 2 branches missed.">		if (sizeInvalid) computeSize();</span>
<span class="nc" id="L408">		float height = tablePrefHeight;</span>
<span class="nc bnc" id="L409" title="All 2 branches missed.">		if (background != null) return Math.max(height, background.getMinHeight());</span>
<span class="nc" id="L410">		return height;</span>
	}

	public float getMinWidth () {
<span class="nc bnc" id="L414" title="All 2 branches missed.">		if (sizeInvalid) computeSize();</span>
<span class="nc" id="L415">		return tableMinWidth;</span>
	}

	public float getMinHeight () {
<span class="nc bnc" id="L419" title="All 2 branches missed.">		if (sizeInvalid) computeSize();</span>
<span class="nc" id="L420">		return tableMinHeight;</span>
	}

	/** The cell values that will be used as the defaults for all cells. */
	public Cell defaults () {
<span class="nc" id="L425">		return cellDefaults;</span>
	}

	/** Sets the padTop, padLeft, padBottom, and padRight around the table to the specified value. */
	public Table pad (Value pad) {
<span class="nc bnc" id="L430" title="All 2 branches missed.">		if (pad == null) throw new IllegalArgumentException(&quot;pad cannot be null.&quot;);</span>
<span class="nc" id="L431">		padTop = pad;</span>
<span class="nc" id="L432">		padLeft = pad;</span>
<span class="nc" id="L433">		padBottom = pad;</span>
<span class="nc" id="L434">		padRight = pad;</span>
<span class="nc" id="L435">		sizeInvalid = true;</span>
<span class="nc" id="L436">		return this;</span>
	}

	public Table pad (Value top, Value left, Value bottom, Value right) {
<span class="nc bnc" id="L440" title="All 2 branches missed.">		if (top == null) throw new IllegalArgumentException(&quot;top cannot be null.&quot;);</span>
<span class="nc bnc" id="L441" title="All 2 branches missed.">		if (left == null) throw new IllegalArgumentException(&quot;left cannot be null.&quot;);</span>
<span class="nc bnc" id="L442" title="All 2 branches missed.">		if (bottom == null) throw new IllegalArgumentException(&quot;bottom cannot be null.&quot;);</span>
<span class="nc bnc" id="L443" title="All 2 branches missed.">		if (right == null) throw new IllegalArgumentException(&quot;right cannot be null.&quot;);</span>
<span class="nc" id="L444">		padTop = top;</span>
<span class="nc" id="L445">		padLeft = left;</span>
<span class="nc" id="L446">		padBottom = bottom;</span>
<span class="nc" id="L447">		padRight = right;</span>
<span class="nc" id="L448">		sizeInvalid = true;</span>
<span class="nc" id="L449">		return this;</span>
	}

	/** Padding at the top edge of the table. */
	public Table padTop (Value padTop) {
<span class="nc bnc" id="L454" title="All 2 branches missed.">		if (padTop == null) throw new IllegalArgumentException(&quot;padTop cannot be null.&quot;);</span>
<span class="nc" id="L455">		this.padTop = padTop;</span>
<span class="nc" id="L456">		sizeInvalid = true;</span>
<span class="nc" id="L457">		return this;</span>
	}

	/** Padding at the left edge of the table. */
	public Table padLeft (Value padLeft) {
<span class="nc bnc" id="L462" title="All 2 branches missed.">		if (padLeft == null) throw new IllegalArgumentException(&quot;padLeft cannot be null.&quot;);</span>
<span class="nc" id="L463">		this.padLeft = padLeft;</span>
<span class="nc" id="L464">		sizeInvalid = true;</span>
<span class="nc" id="L465">		return this;</span>
	}

	/** Padding at the bottom edge of the table. */
	public Table padBottom (Value padBottom) {
<span class="nc bnc" id="L470" title="All 2 branches missed.">		if (padBottom == null) throw new IllegalArgumentException(&quot;padBottom cannot be null.&quot;);</span>
<span class="nc" id="L471">		this.padBottom = padBottom;</span>
<span class="nc" id="L472">		sizeInvalid = true;</span>
<span class="nc" id="L473">		return this;</span>
	}

	/** Padding at the right edge of the table. */
	public Table padRight (Value padRight) {
<span class="nc bnc" id="L478" title="All 2 branches missed.">		if (padRight == null) throw new IllegalArgumentException(&quot;padRight cannot be null.&quot;);</span>
<span class="nc" id="L479">		this.padRight = padRight;</span>
<span class="nc" id="L480">		sizeInvalid = true;</span>
<span class="nc" id="L481">		return this;</span>
	}

	/** Sets the padTop, padLeft, padBottom, and padRight around the table to the specified value. */
	public Table pad (float pad) {
<span class="nc" id="L486">		pad(new Fixed(pad));</span>
<span class="nc" id="L487">		return this;</span>
	}

	public Table pad (float top, float left, float bottom, float right) {
<span class="nc" id="L491">		padTop = new Fixed(top);</span>
<span class="nc" id="L492">		padLeft = new Fixed(left);</span>
<span class="nc" id="L493">		padBottom = new Fixed(bottom);</span>
<span class="nc" id="L494">		padRight = new Fixed(right);</span>
<span class="nc" id="L495">		sizeInvalid = true;</span>
<span class="nc" id="L496">		return this;</span>
	}

	/** Padding at the top edge of the table. */
	public Table padTop (float padTop) {
<span class="nc" id="L501">		this.padTop = new Fixed(padTop);</span>
<span class="nc" id="L502">		sizeInvalid = true;</span>
<span class="nc" id="L503">		return this;</span>
	}

	/** Padding at the left edge of the table. */
	public Table padLeft (float padLeft) {
<span class="nc" id="L508">		this.padLeft = new Fixed(padLeft);</span>
<span class="nc" id="L509">		sizeInvalid = true;</span>
<span class="nc" id="L510">		return this;</span>
	}

	/** Padding at the bottom edge of the table. */
	public Table padBottom (float padBottom) {
<span class="nc" id="L515">		this.padBottom = new Fixed(padBottom);</span>
<span class="nc" id="L516">		sizeInvalid = true;</span>
<span class="nc" id="L517">		return this;</span>
	}

	/** Padding at the right edge of the table. */
	public Table padRight (float padRight) {
<span class="nc" id="L522">		this.padRight = new Fixed(padRight);</span>
<span class="nc" id="L523">		sizeInvalid = true;</span>
<span class="nc" id="L524">		return this;</span>
	}

	/** Alignment of the logical table within the table actor. Set to {@link Align#center}, {@link Align#top}, {@link Align#bottom}
	 * , {@link Align#left}, {@link Align#right}, or any combination of those. */
	public Table align (int align) {
<span class="nc" id="L530">		this.align = align;</span>
<span class="nc" id="L531">		return this;</span>
	}

	/** Sets the alignment of the logical table within the table actor to {@link Align#center}. This clears any other alignment. */
	public Table center () {
<span class="nc" id="L536">		align = Align.center;</span>
<span class="nc" id="L537">		return this;</span>
	}

	/** Adds {@link Align#top} and clears {@link Align#bottom} for the alignment of the logical table within the table actor. */
	public Table top () {
<span class="nc" id="L542">		align |= Align.top;</span>
<span class="nc" id="L543">		align &amp;= ~Align.bottom;</span>
<span class="nc" id="L544">		return this;</span>
	}

	/** Adds {@link Align#left} and clears {@link Align#right} for the alignment of the logical table within the table actor. */
	public Table left () {
<span class="nc" id="L549">		align |= Align.left;</span>
<span class="nc" id="L550">		align &amp;= ~Align.right;</span>
<span class="nc" id="L551">		return this;</span>
	}

	/** Adds {@link Align#bottom} and clears {@link Align#top} for the alignment of the logical table within the table actor. */
	public Table bottom () {
<span class="nc" id="L556">		align |= Align.bottom;</span>
<span class="nc" id="L557">		align &amp;= ~Align.top;</span>
<span class="nc" id="L558">		return this;</span>
	}

	/** Adds {@link Align#right} and clears {@link Align#left} for the alignment of the logical table within the table actor. */
	public Table right () {
<span class="nc" id="L563">		align |= Align.right;</span>
<span class="nc" id="L564">		align &amp;= ~Align.left;</span>
<span class="nc" id="L565">		return this;</span>
	}

	public void setDebug (boolean enabled) {
<span class="nc bnc" id="L569" title="All 2 branches missed.">		debug(enabled ? Debug.all : Debug.none);</span>
<span class="nc" id="L570">	}</span>

	public Table debug () {
<span class="nc" id="L573">		super.debug();</span>
<span class="nc" id="L574">		return this;</span>
	}

	public Table debugAll () {
<span class="nc" id="L578">		super.debugAll();</span>
<span class="nc" id="L579">		return this;</span>
	}

	/** Turns on table debug lines. */
	public Table debugTable () {
<span class="nc" id="L584">		super.setDebug(true);</span>
<span class="nc bnc" id="L585" title="All 2 branches missed.">		if (debug != Debug.table) {</span>
<span class="nc" id="L586">			this.debug = Debug.table;</span>
<span class="nc" id="L587">			invalidate();</span>
		}
<span class="nc" id="L589">		return this;</span>
	}

	/** Turns on cell debug lines. */
	public Table debugCell () {
<span class="nc" id="L594">		super.setDebug(true);</span>
<span class="nc bnc" id="L595" title="All 2 branches missed.">		if (debug != Debug.cell) {</span>
<span class="nc" id="L596">			this.debug = Debug.cell;</span>
<span class="nc" id="L597">			invalidate();</span>
		}
<span class="nc" id="L599">		return this;</span>
	}

	/** Turns on actor debug lines. */
	public Table debugActor () {
<span class="nc" id="L604">		super.setDebug(true);</span>
<span class="nc bnc" id="L605" title="All 2 branches missed.">		if (debug != Debug.actor) {</span>
<span class="nc" id="L606">			this.debug = Debug.actor;</span>
<span class="nc" id="L607">			invalidate();</span>
		}
<span class="nc" id="L609">		return this;</span>
	}

	/** Turns debug lines on or off. */
	public Table debug (Debug debug) {
<span class="nc bnc" id="L614" title="All 2 branches missed.">		super.setDebug(debug != Debug.none);</span>
<span class="nc bnc" id="L615" title="All 2 branches missed.">		if (this.debug != debug) {</span>
<span class="nc" id="L616">			this.debug = debug;</span>
<span class="nc bnc" id="L617" title="All 2 branches missed.">			if (debug == Debug.none)</span>
<span class="nc" id="L618">				clearDebugRects();</span>
			else
<span class="nc" id="L620">				invalidate();</span>
		}
<span class="nc" id="L622">		return this;</span>
	}

	public Debug getTableDebug () {
<span class="nc" id="L626">		return debug;</span>
	}

	public Value getPadTopValue () {
<span class="nc" id="L630">		return padTop;</span>
	}

	public float getPadTop () {
<span class="nc" id="L634">		return padTop.get(this);</span>
	}

	public Value getPadLeftValue () {
<span class="nc" id="L638">		return padLeft;</span>
	}

	public float getPadLeft () {
<span class="nc" id="L642">		return padLeft.get(this);</span>
	}

	public Value getPadBottomValue () {
<span class="nc" id="L646">		return padBottom;</span>
	}

	public float getPadBottom () {
<span class="nc" id="L650">		return padBottom.get(this);</span>
	}

	public Value getPadRightValue () {
<span class="nc" id="L654">		return padRight;</span>
	}

	public float getPadRight () {
<span class="nc" id="L658">		return padRight.get(this);</span>
	}

	/** Returns {@link #getPadLeft()} plus {@link #getPadRight()}. */
	public float getPadX () {
<span class="nc" id="L663">		return padLeft.get(this) + padRight.get(this);</span>
	}

	/** Returns {@link #getPadTop()} plus {@link #getPadBottom()}. */
	public float getPadY () {
<span class="nc" id="L668">		return padTop.get(this) + padBottom.get(this);</span>
	}

	public int getAlign () {
<span class="nc" id="L672">		return align;</span>
	}

	/** Returns the row index for the y coordinate, or -1 if there are no cells.
	 * @param y The y coordinate, where 0 is the top of the table. */
	public int getRow (float y) {
<span class="nc" id="L678">		Array&lt;Cell&gt; cells = this.cells;</span>
<span class="nc" id="L679">		int row = 0;</span>
<span class="nc" id="L680">		y += getPadTop();</span>
<span class="nc" id="L681">		int i = 0, n = cells.size;</span>
<span class="nc bnc" id="L682" title="All 2 branches missed.">		if (n == 0) return -1;</span>
<span class="nc bnc" id="L683" title="All 2 branches missed.">		if (n == 1) return 0;</span>
<span class="nc bnc" id="L684" title="All 2 branches missed.">		while (i &lt; n) {</span>
<span class="nc" id="L685">			Cell c = cells.get(i++);</span>
<span class="nc bnc" id="L686" title="All 2 branches missed.">			if (c.actorY + c.computedPadTop &lt; y) break;</span>
<span class="nc bnc" id="L687" title="All 2 branches missed.">			if (c.endRow) row++;</span>
<span class="nc" id="L688">		}</span>
<span class="nc" id="L689">		return row;</span>
	}

	public void setSkin (Skin skin) {
<span class="nc" id="L693">		this.skin = skin;</span>
<span class="nc" id="L694">	}</span>

	/** If true (the default), positions and sizes are rounded to integers. */
	public void setRound (boolean round) {
<span class="nc" id="L698">		this.round = round;</span>
<span class="nc" id="L699">	}</span>

	public int getRows () {
<span class="nc" id="L702">		return rows;</span>
	}

	public int getColumns () {
<span class="nc" id="L706">		return columns;</span>
	}

	/** Returns the height of the specified row. */
	public float getRowHeight (int rowIndex) {
<span class="nc" id="L711">		return rowHeight[rowIndex];</span>
	}

	/** Returns the width of the specified column. */
	public float getColumnWidth (int columnIndex) {
<span class="nc" id="L716">		return columnWidth[columnIndex];</span>
	}

	private float[] ensureSize (float[] array, int size) {
<span class="nc bnc" id="L720" title="All 4 branches missed.">		if (array == null || array.length &lt; size) return new float[size];</span>
<span class="nc bnc" id="L721" title="All 2 branches missed.">		for (int i = 0, n = array.length; i &lt; n; i++)</span>
<span class="nc" id="L722">			array[i] = 0;</span>
<span class="nc" id="L723">		return array;</span>
	}

	public void layout () {
<span class="nc" id="L727">		float width = getWidth();</span>
<span class="nc" id="L728">		float height = getHeight();</span>

<span class="nc" id="L730">		layout(0, 0, width, height);</span>

<span class="nc" id="L732">		Array&lt;Cell&gt; cells = this.cells;</span>
<span class="nc bnc" id="L733" title="All 2 branches missed.">		if (round) {</span>
<span class="nc bnc" id="L734" title="All 2 branches missed.">			for (int i = 0, n = cells.size; i &lt; n; i++) {</span>
<span class="nc" id="L735">				Cell c = cells.get(i);</span>
<span class="nc" id="L736">				float actorWidth = Math.round(c.actorWidth);</span>
<span class="nc" id="L737">				float actorHeight = Math.round(c.actorHeight);</span>
<span class="nc" id="L738">				float actorX = Math.round(c.actorX);</span>
<span class="nc" id="L739">				float actorY = height - Math.round(c.actorY) - actorHeight;</span>
<span class="nc" id="L740">				c.setActorBounds(actorX, actorY, actorWidth, actorHeight);</span>
<span class="nc" id="L741">				Actor actor = c.actor;</span>
<span class="nc bnc" id="L742" title="All 2 branches missed.">				if (actor != null) actor.setBounds(actorX, actorY, actorWidth, actorHeight);</span>
			}
		} else {
<span class="nc bnc" id="L745" title="All 2 branches missed.">			for (int i = 0, n = cells.size; i &lt; n; i++) {</span>
<span class="nc" id="L746">				Cell c = cells.get(i);</span>
<span class="nc" id="L747">				float actorHeight = c.actorHeight;</span>
<span class="nc" id="L748">				float actorY = height - c.actorY - actorHeight;</span>
<span class="nc" id="L749">				c.setActorY(actorY);</span>
<span class="nc" id="L750">				Actor actor = c.actor;</span>
<span class="nc bnc" id="L751" title="All 2 branches missed.">				if (actor != null) actor.setBounds(c.actorX, actorY, c.actorWidth, actorHeight);</span>
			}
		}
		// Validate children separately from sizing actors to ensure actors without a cell are validated.
<span class="nc" id="L755">		Array&lt;Actor&gt; children = getChildren();</span>
<span class="nc bnc" id="L756" title="All 2 branches missed.">		for (int i = 0, n = children.size; i &lt; n; i++) {</span>
<span class="nc" id="L757">			Actor child = children.get(i);</span>
<span class="nc bnc" id="L758" title="All 2 branches missed.">			if (child instanceof Layout) ((Layout)child).validate();</span>
		}
<span class="nc" id="L760">	}</span>

	private void computeSize () {
<span class="nc" id="L763">		sizeInvalid = false;</span>

<span class="nc" id="L765">		Array&lt;Cell&gt; cells = this.cells;</span>
<span class="nc" id="L766">		int cellCount = cells.size;</span>

		// Implicitly End the row for layout purposes.
<span class="nc bnc" id="L769" title="All 4 branches missed.">		if (cellCount &gt; 0 &amp;&amp; !cells.peek().endRow) {</span>
<span class="nc" id="L770">			endRow();</span>
<span class="nc" id="L771">			implicitEndRow = true;</span>
		} else
<span class="nc" id="L773">			implicitEndRow = false;</span>

<span class="nc" id="L775">		int columns = this.columns, rows = this.rows;</span>
<span class="nc" id="L776">		float[] columnMinWidth = this.columnMinWidth = ensureSize(this.columnMinWidth, columns);</span>
<span class="nc" id="L777">		float[] rowMinHeight = this.rowMinHeight = ensureSize(this.rowMinHeight, rows);</span>
<span class="nc" id="L778">		float[] columnPrefWidth = this.columnPrefWidth = ensureSize(this.columnPrefWidth, columns);</span>
<span class="nc" id="L779">		float[] rowPrefHeight = this.rowPrefHeight = ensureSize(this.rowPrefHeight, rows);</span>
<span class="nc" id="L780">		float[] columnWidth = this.columnWidth = ensureSize(this.columnWidth, columns);</span>
<span class="nc" id="L781">		float[] rowHeight = this.rowHeight = ensureSize(this.rowHeight, rows);</span>
<span class="nc" id="L782">		float[] expandWidth = this.expandWidth = ensureSize(this.expandWidth, columns);</span>
<span class="nc" id="L783">		float[] expandHeight = this.expandHeight = ensureSize(this.expandHeight, rows);</span>

<span class="nc" id="L785">		float spaceRightLast = 0;</span>
<span class="nc bnc" id="L786" title="All 2 branches missed.">		for (int i = 0; i &lt; cellCount; i++) {</span>
<span class="nc" id="L787">			Cell c = cells.get(i);</span>
<span class="nc" id="L788">			int column = c.column, row = c.row, colspan = c.colspan;</span>
<span class="nc" id="L789">			Actor a = c.actor;</span>

			// Collect rows that expand and colspan=1 columns that expand.
<span class="nc bnc" id="L792" title="All 4 branches missed.">			if (c.expandY != 0 &amp;&amp; expandHeight[row] == 0) expandHeight[row] = c.expandY;</span>
<span class="nc bnc" id="L793" title="All 6 branches missed.">			if (colspan == 1 &amp;&amp; c.expandX != 0 &amp;&amp; expandWidth[column] == 0) expandWidth[column] = c.expandX;</span>

			// Compute combined padding/spacing for cells.
			// Spacing between actors isn't additive, the larger is used. Also, no spacing around edges.
<span class="nc bnc" id="L797" title="All 2 branches missed.">			c.computedPadLeft = c.padLeft.get(a) + (column == 0 ? 0 : Math.max(0, c.spaceLeft.get(a) - spaceRightLast));</span>
<span class="nc" id="L798">			c.computedPadTop = c.padTop.get(a);</span>
<span class="nc bnc" id="L799" title="All 2 branches missed.">			if (c.cellAboveIndex != -1) {</span>
<span class="nc" id="L800">				Cell above = cells.get(c.cellAboveIndex);</span>
<span class="nc" id="L801">				c.computedPadTop += Math.max(0, c.spaceTop.get(a) - above.spaceBottom.get(a));</span>
			}
<span class="nc" id="L803">			float spaceRight = c.spaceRight.get(a);</span>
<span class="nc bnc" id="L804" title="All 2 branches missed.">			c.computedPadRight = c.padRight.get(a) + ((column + colspan) == columns ? 0 : spaceRight);</span>
<span class="nc bnc" id="L805" title="All 2 branches missed.">			c.computedPadBottom = c.padBottom.get(a) + (row == rows - 1 ? 0 : c.spaceBottom.get(a));</span>
<span class="nc" id="L806">			spaceRightLast = spaceRight;</span>

			// Determine minimum and preferred cell sizes.
<span class="nc" id="L809">			float prefWidth = c.prefWidth.get(a);</span>
<span class="nc" id="L810">			float prefHeight = c.prefHeight.get(a);</span>
<span class="nc" id="L811">			float minWidth = c.minWidth.get(a);</span>
<span class="nc" id="L812">			float minHeight = c.minHeight.get(a);</span>
<span class="nc" id="L813">			float maxWidth = c.maxWidth.get(a);</span>
<span class="nc" id="L814">			float maxHeight = c.maxHeight.get(a);</span>
<span class="nc bnc" id="L815" title="All 2 branches missed.">			if (prefWidth &lt; minWidth) prefWidth = minWidth;</span>
<span class="nc bnc" id="L816" title="All 2 branches missed.">			if (prefHeight &lt; minHeight) prefHeight = minHeight;</span>
<span class="nc bnc" id="L817" title="All 4 branches missed.">			if (maxWidth &gt; 0 &amp;&amp; prefWidth &gt; maxWidth) prefWidth = maxWidth;</span>
<span class="nc bnc" id="L818" title="All 4 branches missed.">			if (maxHeight &gt; 0 &amp;&amp; prefHeight &gt; maxHeight) prefHeight = maxHeight;</span>

<span class="nc bnc" id="L820" title="All 2 branches missed.">			if (colspan == 1) { // Spanned column min and pref width is added later.</span>
<span class="nc" id="L821">				float hpadding = c.computedPadLeft + c.computedPadRight;</span>
<span class="nc" id="L822">				columnPrefWidth[column] = Math.max(columnPrefWidth[column], prefWidth + hpadding);</span>
<span class="nc" id="L823">				columnMinWidth[column] = Math.max(columnMinWidth[column], minWidth + hpadding);</span>
			}
<span class="nc" id="L825">			float vpadding = c.computedPadTop + c.computedPadBottom;</span>
<span class="nc" id="L826">			rowPrefHeight[row] = Math.max(rowPrefHeight[row], prefHeight + vpadding);</span>
<span class="nc" id="L827">			rowMinHeight[row] = Math.max(rowMinHeight[row], minHeight + vpadding);</span>
		}

<span class="nc" id="L830">		float uniformMinWidth = 0, uniformMinHeight = 0;</span>
<span class="nc" id="L831">		float uniformPrefWidth = 0, uniformPrefHeight = 0;</span>
<span class="nc bnc" id="L832" title="All 2 branches missed.">		for (int i = 0; i &lt; cellCount; i++) {</span>
<span class="nc" id="L833">			Cell c = cells.get(i);</span>
<span class="nc" id="L834">			int column = c.column;</span>

			// Colspan with expand will expand all spanned columns if none of the spanned columns have expand.
<span class="nc" id="L837">			int expandX = c.expandX;</span>
			outer:
<span class="nc bnc" id="L839" title="All 2 branches missed.">			if (expandX != 0) {</span>
<span class="nc" id="L840">				int nn = column + c.colspan;</span>
<span class="nc bnc" id="L841" title="All 2 branches missed.">				for (int ii = column; ii &lt; nn; ii++)</span>
<span class="nc bnc" id="L842" title="All 2 branches missed.">					if (expandWidth[ii] != 0) break outer;</span>
<span class="nc bnc" id="L843" title="All 2 branches missed.">				for (int ii = column; ii &lt; nn; ii++)</span>
<span class="nc" id="L844">					expandWidth[ii] = expandX;</span>
			}

			// Collect uniform sizes.
<span class="nc bnc" id="L848" title="All 4 branches missed.">			if (c.uniformX == Boolean.TRUE &amp;&amp; c.colspan == 1) {</span>
<span class="nc" id="L849">				float hpadding = c.computedPadLeft + c.computedPadRight;</span>
<span class="nc" id="L850">				uniformMinWidth = Math.max(uniformMinWidth, columnMinWidth[column] - hpadding);</span>
<span class="nc" id="L851">				uniformPrefWidth = Math.max(uniformPrefWidth, columnPrefWidth[column] - hpadding);</span>
			}
<span class="nc bnc" id="L853" title="All 2 branches missed.">			if (c.uniformY == Boolean.TRUE) {</span>
<span class="nc" id="L854">				float vpadding = c.computedPadTop + c.computedPadBottom;</span>
<span class="nc" id="L855">				uniformMinHeight = Math.max(uniformMinHeight, rowMinHeight[c.row] - vpadding);</span>
<span class="nc" id="L856">				uniformPrefHeight = Math.max(uniformPrefHeight, rowPrefHeight[c.row] - vpadding);</span>
			}
		}

		// Size uniform cells to the same width/height.
<span class="nc bnc" id="L861" title="All 4 branches missed.">		if (uniformPrefWidth &gt; 0 || uniformPrefHeight &gt; 0) {</span>
<span class="nc bnc" id="L862" title="All 2 branches missed.">			for (int i = 0; i &lt; cellCount; i++) {</span>
<span class="nc" id="L863">				Cell c = cells.get(i);</span>
<span class="nc bnc" id="L864" title="All 6 branches missed.">				if (uniformPrefWidth &gt; 0 &amp;&amp; c.uniformX == Boolean.TRUE &amp;&amp; c.colspan == 1) {</span>
<span class="nc" id="L865">					float hpadding = c.computedPadLeft + c.computedPadRight;</span>
<span class="nc" id="L866">					columnMinWidth[c.column] = uniformMinWidth + hpadding;</span>
<span class="nc" id="L867">					columnPrefWidth[c.column] = uniformPrefWidth + hpadding;</span>
				}
<span class="nc bnc" id="L869" title="All 4 branches missed.">				if (uniformPrefHeight &gt; 0 &amp;&amp; c.uniformY == Boolean.TRUE) {</span>
<span class="nc" id="L870">					float vpadding = c.computedPadTop + c.computedPadBottom;</span>
<span class="nc" id="L871">					rowMinHeight[c.row] = uniformMinHeight + vpadding;</span>
<span class="nc" id="L872">					rowPrefHeight[c.row] = uniformPrefHeight + vpadding;</span>
				}
			}
		}

		// Distribute any additional min and pref width added by colspanned cells to the columns spanned.
<span class="nc bnc" id="L878" title="All 2 branches missed.">		for (int i = 0; i &lt; cellCount; i++) {</span>
<span class="nc" id="L879">			Cell c = cells.get(i);</span>
<span class="nc" id="L880">			int colspan = c.colspan;</span>
<span class="nc bnc" id="L881" title="All 2 branches missed.">			if (colspan == 1) continue;</span>
<span class="nc" id="L882">			int column = c.column;</span>

<span class="nc" id="L884">			Actor a = c.actor;</span>
<span class="nc" id="L885">			float minWidth = c.minWidth.get(a);</span>
<span class="nc" id="L886">			float prefWidth = c.prefWidth.get(a);</span>
<span class="nc" id="L887">			float maxWidth = c.maxWidth.get(a);</span>
<span class="nc bnc" id="L888" title="All 2 branches missed.">			if (prefWidth &lt; minWidth) prefWidth = minWidth;</span>
<span class="nc bnc" id="L889" title="All 4 branches missed.">			if (maxWidth &gt; 0 &amp;&amp; prefWidth &gt; maxWidth) prefWidth = maxWidth;</span>

<span class="nc" id="L891">			float spannedMinWidth = -(c.computedPadLeft + c.computedPadRight), spannedPrefWidth = spannedMinWidth;</span>
<span class="nc" id="L892">			float totalExpandWidth = 0;</span>
<span class="nc bnc" id="L893" title="All 2 branches missed.">			for (int ii = column, nn = ii + colspan; ii &lt; nn; ii++) {</span>
<span class="nc" id="L894">				spannedMinWidth += columnMinWidth[ii];</span>
<span class="nc" id="L895">				spannedPrefWidth += columnPrefWidth[ii];</span>
<span class="nc" id="L896">				totalExpandWidth += expandWidth[ii]; // Distribute extra space using expand, if any columns have expand.</span>
			}

<span class="nc" id="L899">			float extraMinWidth = Math.max(0, minWidth - spannedMinWidth);</span>
<span class="nc" id="L900">			float extraPrefWidth = Math.max(0, prefWidth - spannedPrefWidth);</span>
<span class="nc bnc" id="L901" title="All 2 branches missed.">			for (int ii = column, nn = ii + colspan; ii &lt; nn; ii++) {</span>
<span class="nc bnc" id="L902" title="All 2 branches missed.">				float ratio = totalExpandWidth == 0 ? 1f / colspan : expandWidth[ii] / totalExpandWidth;</span>
<span class="nc" id="L903">				columnMinWidth[ii] += extraMinWidth * ratio;</span>
<span class="nc" id="L904">				columnPrefWidth[ii] += extraPrefWidth * ratio;</span>
			}
		}

		// Determine table min and pref size.
<span class="nc" id="L909">		tableMinWidth = 0;</span>
<span class="nc" id="L910">		tableMinHeight = 0;</span>
<span class="nc" id="L911">		tablePrefWidth = 0;</span>
<span class="nc" id="L912">		tablePrefHeight = 0;</span>
<span class="nc bnc" id="L913" title="All 2 branches missed.">		for (int i = 0; i &lt; columns; i++) {</span>
<span class="nc" id="L914">			tableMinWidth += columnMinWidth[i];</span>
<span class="nc" id="L915">			tablePrefWidth += columnPrefWidth[i];</span>
		}
<span class="nc bnc" id="L917" title="All 2 branches missed.">		for (int i = 0; i &lt; rows; i++) {</span>
<span class="nc" id="L918">			tableMinHeight += rowMinHeight[i];</span>
<span class="nc" id="L919">			tablePrefHeight += Math.max(rowMinHeight[i], rowPrefHeight[i]);</span>
		}
<span class="nc" id="L921">		float hpadding = padLeft.get(this) + padRight.get(this);</span>
<span class="nc" id="L922">		float vpadding = padTop.get(this) + padBottom.get(this);</span>
<span class="nc" id="L923">		tableMinWidth = tableMinWidth + hpadding;</span>
<span class="nc" id="L924">		tableMinHeight = tableMinHeight + vpadding;</span>
<span class="nc" id="L925">		tablePrefWidth = Math.max(tablePrefWidth + hpadding, tableMinWidth);</span>
<span class="nc" id="L926">		tablePrefHeight = Math.max(tablePrefHeight + vpadding, tableMinHeight);</span>
<span class="nc" id="L927">	}</span>

	/** Positions and sizes children of the table using the cell associated with each child. The values given are the position
	 * within the parent and size of the table. */
	private void layout (float layoutX, float layoutY, float layoutWidth, float layoutHeight) {
<span class="nc" id="L932">		Array&lt;Cell&gt; cells = this.cells;</span>
<span class="nc" id="L933">		int cellCount = cells.size;</span>

<span class="nc bnc" id="L935" title="All 2 branches missed.">		if (sizeInvalid) computeSize();</span>

<span class="nc" id="L937">		float padLeft = this.padLeft.get(this);</span>
<span class="nc" id="L938">		float hpadding = padLeft + padRight.get(this);</span>
<span class="nc" id="L939">		float padTop = this.padTop.get(this);</span>
<span class="nc" id="L940">		float vpadding = padTop + padBottom.get(this);</span>

<span class="nc" id="L942">		int columns = this.columns, rows = this.rows;</span>
<span class="nc" id="L943">		float[] expandWidth = this.expandWidth, expandHeight = this.expandHeight;</span>
<span class="nc" id="L944">		float[] columnWidth = this.columnWidth, rowHeight = this.rowHeight;</span>

<span class="nc" id="L946">		float totalExpandWidth = 0, totalExpandHeight = 0;</span>
<span class="nc bnc" id="L947" title="All 2 branches missed.">		for (int i = 0; i &lt; columns; i++)</span>
<span class="nc" id="L948">			totalExpandWidth += expandWidth[i];</span>
<span class="nc bnc" id="L949" title="All 2 branches missed.">		for (int i = 0; i &lt; rows; i++)</span>
<span class="nc" id="L950">			totalExpandHeight += expandHeight[i];</span>

		// Size columns and rows between min and pref size using (preferred - min) size to weight distribution of extra space.
		float[] columnWeightedWidth;
<span class="nc" id="L954">		float totalGrowWidth = tablePrefWidth - tableMinWidth;</span>
<span class="nc bnc" id="L955" title="All 2 branches missed.">		if (totalGrowWidth == 0)</span>
<span class="nc" id="L956">			columnWeightedWidth = columnMinWidth;</span>
		else {
<span class="nc" id="L958">			float extraWidth = Math.min(totalGrowWidth, Math.max(0, layoutWidth - tableMinWidth));</span>
<span class="nc" id="L959">			columnWeightedWidth = Table.columnWeightedWidth = ensureSize(Table.columnWeightedWidth, columns);</span>
<span class="nc" id="L960">			float[] columnMinWidth = this.columnMinWidth, columnPrefWidth = this.columnPrefWidth;</span>
<span class="nc bnc" id="L961" title="All 2 branches missed.">			for (int i = 0; i &lt; columns; i++) {</span>
<span class="nc" id="L962">				float growWidth = columnPrefWidth[i] - columnMinWidth[i];</span>
<span class="nc" id="L963">				float growRatio = growWidth / totalGrowWidth;</span>
<span class="nc" id="L964">				columnWeightedWidth[i] = columnMinWidth[i] + extraWidth * growRatio;</span>
			}
		}

		float[] rowWeightedHeight;
<span class="nc" id="L969">		float totalGrowHeight = tablePrefHeight - tableMinHeight;</span>
<span class="nc bnc" id="L970" title="All 2 branches missed.">		if (totalGrowHeight == 0)</span>
<span class="nc" id="L971">			rowWeightedHeight = rowMinHeight;</span>
		else {
<span class="nc" id="L973">			rowWeightedHeight = Table.rowWeightedHeight = ensureSize(Table.rowWeightedHeight, rows);</span>
<span class="nc" id="L974">			float extraHeight = Math.min(totalGrowHeight, Math.max(0, layoutHeight - tableMinHeight));</span>
<span class="nc" id="L975">			float[] rowMinHeight = this.rowMinHeight, rowPrefHeight = this.rowPrefHeight;</span>
<span class="nc bnc" id="L976" title="All 2 branches missed.">			for (int i = 0; i &lt; rows; i++) {</span>
<span class="nc" id="L977">				float growHeight = rowPrefHeight[i] - rowMinHeight[i];</span>
<span class="nc" id="L978">				float growRatio = growHeight / totalGrowHeight;</span>
<span class="nc" id="L979">				rowWeightedHeight[i] = rowMinHeight[i] + extraHeight * growRatio;</span>
			}
		}

		// Determine actor and cell sizes (before expand or fill).
<span class="nc bnc" id="L984" title="All 2 branches missed.">		for (int i = 0; i &lt; cellCount; i++) {</span>
<span class="nc" id="L985">			Cell c = cells.get(i);</span>
<span class="nc" id="L986">			int column = c.column, row = c.row;</span>
<span class="nc" id="L987">			Actor a = c.actor;</span>

<span class="nc" id="L989">			float spannedWeightedWidth = 0;</span>
<span class="nc" id="L990">			int colspan = c.colspan;</span>
<span class="nc bnc" id="L991" title="All 2 branches missed.">			for (int ii = column, nn = ii + colspan; ii &lt; nn; ii++)</span>
<span class="nc" id="L992">				spannedWeightedWidth += columnWeightedWidth[ii];</span>
<span class="nc" id="L993">			float weightedHeight = rowWeightedHeight[row];</span>

<span class="nc" id="L995">			float prefWidth = c.prefWidth.get(a);</span>
<span class="nc" id="L996">			float prefHeight = c.prefHeight.get(a);</span>
<span class="nc" id="L997">			float minWidth = c.minWidth.get(a);</span>
<span class="nc" id="L998">			float minHeight = c.minHeight.get(a);</span>
<span class="nc" id="L999">			float maxWidth = c.maxWidth.get(a);</span>
<span class="nc" id="L1000">			float maxHeight = c.maxHeight.get(a);</span>
<span class="nc bnc" id="L1001" title="All 2 branches missed.">			if (prefWidth &lt; minWidth) prefWidth = minWidth;</span>
<span class="nc bnc" id="L1002" title="All 2 branches missed.">			if (prefHeight &lt; minHeight) prefHeight = minHeight;</span>
<span class="nc bnc" id="L1003" title="All 4 branches missed.">			if (maxWidth &gt; 0 &amp;&amp; prefWidth &gt; maxWidth) prefWidth = maxWidth;</span>
<span class="nc bnc" id="L1004" title="All 4 branches missed.">			if (maxHeight &gt; 0 &amp;&amp; prefHeight &gt; maxHeight) prefHeight = maxHeight;</span>

<span class="nc" id="L1006">			c.actorWidth = Math.min(spannedWeightedWidth - c.computedPadLeft - c.computedPadRight, prefWidth);</span>
<span class="nc" id="L1007">			c.actorHeight = Math.min(weightedHeight - c.computedPadTop - c.computedPadBottom, prefHeight);</span>

<span class="nc bnc" id="L1009" title="All 2 branches missed.">			if (colspan == 1) columnWidth[column] = Math.max(columnWidth[column], spannedWeightedWidth);</span>
<span class="nc" id="L1010">			rowHeight[row] = Math.max(rowHeight[row], weightedHeight);</span>
		}

		// Distribute remaining space to any expanding columns/rows.
<span class="nc bnc" id="L1014" title="All 2 branches missed.">		if (totalExpandWidth &gt; 0) {</span>
<span class="nc" id="L1015">			float extra = layoutWidth - hpadding;</span>
<span class="nc bnc" id="L1016" title="All 2 branches missed.">			for (int i = 0; i &lt; columns; i++)</span>
<span class="nc" id="L1017">				extra -= columnWidth[i];</span>
<span class="nc" id="L1018">			float used = 0;</span>
<span class="nc" id="L1019">			int lastIndex = 0;</span>
<span class="nc bnc" id="L1020" title="All 2 branches missed.">			for (int i = 0; i &lt; columns; i++) {</span>
<span class="nc bnc" id="L1021" title="All 2 branches missed.">				if (expandWidth[i] == 0) continue;</span>
<span class="nc" id="L1022">				float amount = extra * expandWidth[i] / totalExpandWidth;</span>
<span class="nc" id="L1023">				columnWidth[i] += amount;</span>
<span class="nc" id="L1024">				used += amount;</span>
<span class="nc" id="L1025">				lastIndex = i;</span>
			}
<span class="nc" id="L1027">			columnWidth[lastIndex] += extra - used;</span>
		}
<span class="nc bnc" id="L1029" title="All 2 branches missed.">		if (totalExpandHeight &gt; 0) {</span>
<span class="nc" id="L1030">			float extra = layoutHeight - vpadding;</span>
<span class="nc bnc" id="L1031" title="All 2 branches missed.">			for (int i = 0; i &lt; rows; i++)</span>
<span class="nc" id="L1032">				extra -= rowHeight[i];</span>
<span class="nc" id="L1033">			float used = 0;</span>
<span class="nc" id="L1034">			int lastIndex = 0;</span>
<span class="nc bnc" id="L1035" title="All 2 branches missed.">			for (int i = 0; i &lt; rows; i++) {</span>
<span class="nc bnc" id="L1036" title="All 2 branches missed.">				if (expandHeight[i] == 0) continue;</span>
<span class="nc" id="L1037">				float amount = extra * expandHeight[i] / totalExpandHeight;</span>
<span class="nc" id="L1038">				rowHeight[i] += amount;</span>
<span class="nc" id="L1039">				used += amount;</span>
<span class="nc" id="L1040">				lastIndex = i;</span>
			}
<span class="nc" id="L1042">			rowHeight[lastIndex] += extra - used;</span>
		}

		// Distribute any additional width added by colspanned cells to the columns spanned.
<span class="nc bnc" id="L1046" title="All 2 branches missed.">		for (int i = 0; i &lt; cellCount; i++) {</span>
<span class="nc" id="L1047">			Cell c = cells.get(i);</span>
<span class="nc" id="L1048">			int colspan = c.colspan;</span>
<span class="nc bnc" id="L1049" title="All 2 branches missed.">			if (colspan == 1) continue;</span>

<span class="nc" id="L1051">			float extraWidth = 0;</span>
<span class="nc bnc" id="L1052" title="All 2 branches missed.">			for (int column = c.column, nn = column + colspan; column &lt; nn; column++)</span>
<span class="nc" id="L1053">				extraWidth += columnWeightedWidth[column] - columnWidth[column];</span>
<span class="nc" id="L1054">			extraWidth -= Math.max(0, c.computedPadLeft + c.computedPadRight);</span>

<span class="nc" id="L1056">			extraWidth /= colspan;</span>
<span class="nc bnc" id="L1057" title="All 2 branches missed.">			if (extraWidth &gt; 0) {</span>
<span class="nc bnc" id="L1058" title="All 2 branches missed.">				for (int column = c.column, nn = column + colspan; column &lt; nn; column++)</span>
<span class="nc" id="L1059">					columnWidth[column] += extraWidth;</span>
			}
		}

		// Determine table size.
<span class="nc" id="L1064">		float tableWidth = hpadding, tableHeight = vpadding;</span>
<span class="nc bnc" id="L1065" title="All 2 branches missed.">		for (int i = 0; i &lt; columns; i++)</span>
<span class="nc" id="L1066">			tableWidth += columnWidth[i];</span>
<span class="nc bnc" id="L1067" title="All 2 branches missed.">		for (int i = 0; i &lt; rows; i++)</span>
<span class="nc" id="L1068">			tableHeight += rowHeight[i];</span>

		// Position table within the container.
<span class="nc" id="L1071">		int align = this.align;</span>
<span class="nc" id="L1072">		float x = layoutX + padLeft;</span>
<span class="nc bnc" id="L1073" title="All 2 branches missed.">		if ((align &amp; Align.right) != 0)</span>
<span class="nc" id="L1074">			x += layoutWidth - tableWidth;</span>
<span class="nc bnc" id="L1075" title="All 2 branches missed.">		else if ((align &amp; Align.left) == 0) // Center</span>
<span class="nc" id="L1076">			x += (layoutWidth - tableWidth) / 2;</span>

<span class="nc" id="L1078">		float y = layoutY + padTop;</span>
<span class="nc bnc" id="L1079" title="All 2 branches missed.">		if ((align &amp; Align.bottom) != 0)</span>
<span class="nc" id="L1080">			y += layoutHeight - tableHeight;</span>
<span class="nc bnc" id="L1081" title="All 2 branches missed.">		else if ((align &amp; Align.top) == 0) // Center</span>
<span class="nc" id="L1082">			y += (layoutHeight - tableHeight) / 2;</span>

		// Position actors within cells.
<span class="nc" id="L1085">		float currentX = x, currentY = y;</span>
<span class="nc bnc" id="L1086" title="All 2 branches missed.">		for (int i = 0; i &lt; cellCount; i++) {</span>
<span class="nc" id="L1087">			Cell c = cells.get(i);</span>

<span class="nc" id="L1089">			float spannedCellWidth = 0;</span>
<span class="nc bnc" id="L1090" title="All 2 branches missed.">			for (int column = c.column, nn = column + c.colspan; column &lt; nn; column++)</span>
<span class="nc" id="L1091">				spannedCellWidth += columnWidth[column];</span>
<span class="nc" id="L1092">			spannedCellWidth -= c.computedPadLeft + c.computedPadRight;</span>

<span class="nc" id="L1094">			currentX += c.computedPadLeft;</span>

<span class="nc" id="L1096">			float fillX = c.fillX, fillY = c.fillY;</span>
<span class="nc bnc" id="L1097" title="All 2 branches missed.">			if (fillX &gt; 0) {</span>
<span class="nc" id="L1098">				c.actorWidth = Math.max(spannedCellWidth * fillX, c.minWidth.get(c.actor));</span>
<span class="nc" id="L1099">				float maxWidth = c.maxWidth.get(c.actor);</span>
<span class="nc bnc" id="L1100" title="All 2 branches missed.">				if (maxWidth &gt; 0) c.actorWidth = Math.min(c.actorWidth, maxWidth);</span>
			}
<span class="nc bnc" id="L1102" title="All 2 branches missed.">			if (fillY &gt; 0) {</span>
<span class="nc" id="L1103">				c.actorHeight = Math.max(rowHeight[c.row] * fillY - c.computedPadTop - c.computedPadBottom, c.minHeight.get(c.actor));</span>
<span class="nc" id="L1104">				float maxHeight = c.maxHeight.get(c.actor);</span>
<span class="nc bnc" id="L1105" title="All 2 branches missed.">				if (maxHeight &gt; 0) c.actorHeight = Math.min(c.actorHeight, maxHeight);</span>
			}

<span class="nc" id="L1108">			align = c.align;</span>
<span class="nc bnc" id="L1109" title="All 2 branches missed.">			if ((align &amp; Align.left) != 0)</span>
<span class="nc" id="L1110">				c.actorX = currentX;</span>
<span class="nc bnc" id="L1111" title="All 2 branches missed.">			else if ((align &amp; Align.right) != 0)</span>
<span class="nc" id="L1112">				c.actorX = currentX + spannedCellWidth - c.actorWidth;</span>
			else
<span class="nc" id="L1114">				c.actorX = currentX + (spannedCellWidth - c.actorWidth) / 2;</span>

<span class="nc bnc" id="L1116" title="All 2 branches missed.">			if ((align &amp; Align.top) != 0)</span>
<span class="nc" id="L1117">				c.actorY = currentY + c.computedPadTop;</span>
<span class="nc bnc" id="L1118" title="All 2 branches missed.">			else if ((align &amp; Align.bottom) != 0)</span>
<span class="nc" id="L1119">				c.actorY = currentY + rowHeight[c.row] - c.actorHeight - c.computedPadBottom;</span>
			else
<span class="nc" id="L1121">				c.actorY = currentY + (rowHeight[c.row] - c.actorHeight + c.computedPadTop - c.computedPadBottom) / 2;</span>

<span class="nc bnc" id="L1123" title="All 2 branches missed.">			if (c.endRow) {</span>
<span class="nc" id="L1124">				currentX = x;</span>
<span class="nc" id="L1125">				currentY += rowHeight[c.row];</span>
			} else
<span class="nc" id="L1127">				currentX += spannedCellWidth + c.computedPadRight;</span>
		}

		// Store debug rectangles.
<span class="nc bnc" id="L1131" title="All 2 branches missed.">		if (debug == Debug.none) return;</span>
<span class="nc" id="L1132">		clearDebugRects();</span>
<span class="nc" id="L1133">		currentX = x;</span>
<span class="nc" id="L1134">		currentY = y;</span>
<span class="nc bnc" id="L1135" title="All 4 branches missed.">		if (debug == Debug.table || debug == Debug.all) {</span>
<span class="nc" id="L1136">			addDebugRect(layoutX, layoutY, layoutWidth, layoutHeight, debugTableColor);</span>
<span class="nc" id="L1137">			addDebugRect(x, y, tableWidth - hpadding, tableHeight - vpadding, debugTableColor);</span>
		}
<span class="nc bnc" id="L1139" title="All 2 branches missed.">		for (int i = 0; i &lt; cellCount; i++) {</span>
<span class="nc" id="L1140">			Cell c = cells.get(i);</span>

			// Actor bounds.
<span class="nc bnc" id="L1143" title="All 4 branches missed.">			if (debug == Debug.actor || debug == Debug.all)</span>
<span class="nc" id="L1144">				addDebugRect(c.actorX, c.actorY, c.actorWidth, c.actorHeight, debugActorColor);</span>

			// Cell bounds.
<span class="nc" id="L1147">			float spannedCellWidth = 0;</span>
<span class="nc bnc" id="L1148" title="All 2 branches missed.">			for (int column = c.column, nn = column + c.colspan; column &lt; nn; column++)</span>
<span class="nc" id="L1149">				spannedCellWidth += columnWidth[column];</span>
<span class="nc" id="L1150">			spannedCellWidth -= c.computedPadLeft + c.computedPadRight;</span>
<span class="nc" id="L1151">			currentX += c.computedPadLeft;</span>
<span class="nc bnc" id="L1152" title="All 4 branches missed.">			if (debug == Debug.cell || debug == Debug.all) {</span>
<span class="nc" id="L1153">				addDebugRect(currentX, currentY + c.computedPadTop, spannedCellWidth,</span>
					rowHeight[c.row] - c.computedPadTop - c.computedPadBottom, debugCellColor);
			}

<span class="nc bnc" id="L1157" title="All 2 branches missed.">			if (c.endRow) {</span>
<span class="nc" id="L1158">				currentX = x;</span>
<span class="nc" id="L1159">				currentY += rowHeight[c.row];</span>
			} else
<span class="nc" id="L1161">				currentX += spannedCellWidth + c.computedPadRight;</span>
		}
<span class="nc" id="L1163">	}</span>

	private void clearDebugRects () {
<span class="nc bnc" id="L1166" title="All 2 branches missed.">		if (debugRects == null) return;</span>
<span class="nc" id="L1167">		DebugRect.pool.freeAll(debugRects);</span>
<span class="nc" id="L1168">		debugRects.clear();</span>
<span class="nc" id="L1169">	}</span>

	private void addDebugRect (float x, float y, float w, float h, Color color) {
<span class="nc bnc" id="L1172" title="All 2 branches missed.">		if (debugRects == null) debugRects = new Array();</span>
<span class="nc" id="L1173">		DebugRect rect = DebugRect.pool.obtain();</span>
<span class="nc" id="L1174">		rect.color = color;</span>
<span class="nc" id="L1175">		rect.set(x, getHeight() - y - h, w, h);</span>
<span class="nc" id="L1176">		debugRects.add(rect);</span>
<span class="nc" id="L1177">	}</span>

	public void drawDebug (ShapeRenderer shapes) {
<span class="nc bnc" id="L1180" title="All 2 branches missed.">		if (isTransform()) {</span>
<span class="nc" id="L1181">			applyTransform(shapes, computeTransform());</span>
<span class="nc" id="L1182">			drawDebugRects(shapes);</span>
<span class="nc bnc" id="L1183" title="All 2 branches missed.">			if (clip) {</span>
<span class="nc" id="L1184">				shapes.flush();</span>
<span class="nc" id="L1185">				float x = 0, y = 0, width = getWidth(), height = getHeight();</span>
<span class="nc bnc" id="L1186" title="All 2 branches missed.">				if (background != null) {</span>
<span class="nc" id="L1187">					x = padLeft.get(this);</span>
<span class="nc" id="L1188">					y = padBottom.get(this);</span>
<span class="nc" id="L1189">					width -= x + padRight.get(this);</span>
<span class="nc" id="L1190">					height -= y + padTop.get(this);</span>
				}
<span class="nc bnc" id="L1192" title="All 2 branches missed.">				if (clipBegin(x, y, width, height)) {</span>
<span class="nc" id="L1193">					drawDebugChildren(shapes);</span>
<span class="nc" id="L1194">					clipEnd();</span>
				}
<span class="nc" id="L1196">			} else</span>
<span class="nc" id="L1197">				drawDebugChildren(shapes);</span>
<span class="nc" id="L1198">			resetTransform(shapes);</span>
		} else {
<span class="nc" id="L1200">			drawDebugRects(shapes);</span>
<span class="nc" id="L1201">			super.drawDebug(shapes);</span>
		}
<span class="nc" id="L1203">	}</span>

	protected void drawDebugBounds (ShapeRenderer shapes) {
<span class="nc" id="L1206">	}</span>

	private void drawDebugRects (ShapeRenderer shapes) {
<span class="nc bnc" id="L1209" title="All 4 branches missed.">		if (debugRects == null || !getDebug()) return;</span>
<span class="nc" id="L1210">		shapes.set(ShapeType.Line);</span>
<span class="nc" id="L1211">		shapes.setColor(getStage().getDebugColor());</span>
<span class="nc" id="L1212">		float x = 0, y = 0;</span>
<span class="nc bnc" id="L1213" title="All 2 branches missed.">		if (!isTransform()) {</span>
<span class="nc" id="L1214">			x = getX();</span>
<span class="nc" id="L1215">			y = getY();</span>
		}
<span class="nc bnc" id="L1217" title="All 2 branches missed.">		for (int i = 0, n = debugRects.size; i &lt; n; i++) {</span>
<span class="nc" id="L1218">			DebugRect debugRect = debugRects.get(i);</span>
<span class="nc" id="L1219">			shapes.setColor(debugRect.color);</span>
<span class="nc" id="L1220">			shapes.rect(x + debugRect.x, y + debugRect.y, debugRect.width, debugRect.height);</span>
		}
<span class="nc" id="L1222">	}</span>

	/** @return The skin that was passed to this table in its constructor, or null if none was given. */
	public Skin getSkin () {
<span class="nc" id="L1226">		return skin;</span>
	}

	/** @author Nathan Sweet */
<span class="nc" id="L1230">	static public class DebugRect extends Rectangle {</span>
<span class="nc" id="L1231">		static Pool&lt;DebugRect&gt; pool = Pools.get(DebugRect.class);</span>
		Color color;
	}

	/** @author Nathan Sweet */
<span class="nc" id="L1236">	static public enum Debug {</span>
<span class="nc" id="L1237">		none, all, table, cell, actor</span>
	}

	/** Value that is the top padding of the table's background.
	 * @author Nathan Sweet */
<span class="nc" id="L1242">	static public Value backgroundTop = new Value() {</span>
		public float get (Actor context) {
<span class="nc" id="L1244">			Drawable background = ((Table)context).background;</span>
<span class="nc bnc" id="L1245" title="All 2 branches missed.">			return background == null ? 0 : background.getTopHeight();</span>
		}
	};

	/** Value that is the left padding of the table's background.
	 * @author Nathan Sweet */
<span class="nc" id="L1251">	static public Value backgroundLeft = new Value() {</span>
		public float get (Actor context) {
<span class="nc" id="L1253">			Drawable background = ((Table)context).background;</span>
<span class="nc bnc" id="L1254" title="All 2 branches missed.">			return background == null ? 0 : background.getLeftWidth();</span>
		}
	};

	/** Value that is the bottom padding of the table's background.
	 * @author Nathan Sweet */
<span class="nc" id="L1260">	static public Value backgroundBottom = new Value() {</span>
		public float get (Actor context) {
<span class="nc" id="L1262">			Drawable background = ((Table)context).background;</span>
<span class="nc bnc" id="L1263" title="All 2 branches missed.">			return background == null ? 0 : background.getBottomHeight();</span>
		}
	};

	/** Value that is the right padding of the table's background.
	 * @author Nathan Sweet */
<span class="nc" id="L1269">	static public Value backgroundRight = new Value() {</span>
		public float get (Actor context) {
<span class="nc" id="L1271">			Drawable background = ((Table)context).background;</span>
<span class="nc bnc" id="L1272" title="All 2 branches missed.">			return background == null ? 0 : background.getRightWidth();</span>
		}
	};
}
</pre><div class="footer"><span class="right">Created with <a href="http://www.eclemma.org/jacoco">JaCoCo</a> 0.5.5.201112152213</span></div></body></html>